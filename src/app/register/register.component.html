<div class="card">
  <div class="card-header" style="padding-left: 40% ; background-color: #3b5998">
    Admin Sign Up!
  </div>
  <div class="card-body">
    <form novalidate (ngSubmit)="register()" [formGroup]="userForm">
      <!-- noValidate attribute is tell browser not to validate this form but let Angular to validate its entries -->
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="firstNameId"> First Name</label>
        <div class="col-md-8">
          <input class="form-control" id="firstNameId" type="text" placeholder="First Name" formControlName="firstName" [ngClass]="{'is-invalid' : (userForm.get('firstName').touched || userForm.get('firstName').dirty) && !userForm.get('firstName').valid }"
          />
          <span class="invalid-feedback">
                <span *ngIf="userForm.get('firstName').errors?.required">
                    Please enter your First Name
                </span>
          <span *ngIf="userForm.get('firstName').errors?.minlength">
                    The First Name must be alteast 3 characters long.
                </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="lastNameId"> Last Name</label>
        <div class="col-md-8">
          <input class="form-control" id="lastNameId" type="text" placeholder="Last Name" formControlName="lastName" [ngClass]="{'is-invalid' : (userForm.get('lastName').touched || userForm.get('lastName').dirty) && !userForm.get('lastName').valid }"
          />
          <span class="invalid-feedback">
                <span *ngIf="userForm.get('lastName').errors?.required">
                    Please enter your Last Name
                </span>
          <span *ngIf="userForm.get('lastName').errors?.maxLength">
                    The Last Name must be alteast 3 characters long.
                </span>
          </span>
        </div>
      </div>

      <div formGroupName="emailGroup">
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="emailId"> Email</label>
          <div class="col-md-8">
            <input class="form-control" id="emailId" type="email" placeholder="Email" formControlName="email" [ngClass]="{'is-invalid' :  userForm.get('emailGroup').errors ||
                                                                                                                                          ((userForm.get('emailGroup.email').touched ||
                                                                                                                                          userForm.get('emailGroup.email').dirty) && 
                                                                                                                                          !userForm.get('emailGroup.email').valid ) }"
            />
            <span class="invalid-feedback">
                <span *ngIf="userForm.get('emailGroup.email').errors?.required">
                    Please enter your Email address
                </span>
            <span *ngIf="userForm.get('emailGroup.email').errors?.email">
                    Please enter a valid email address
                </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="confirmEmailId">Confirm Email</label>
          <div class="col-md-8">
            <input class="form-control" id="confirmEmailId" type="email" placeholder="Confirm Email" formControlName="confirmEmail" [ngClass]="{'is-invalid' : userForm.get('emailGroup').errors ||
                                                                                                                                                               ((userForm.get('emailGroup.confirmEmail').touched || 
                                                                                                                                                               userForm.get('emailGroup.confirmEmail').dirty) && 
                                                                                                                                                               !userForm.get('emailGroup.confirmEmail').valid) }"
            />
            <span class="invalid-feedback">
                <span *ngIf="userForm.get('emailGroup.confirmEmail').errors?.required">
                    Please confirm your Email address
                </span>
            <span *ngIf="userForm.get('emailGroup').errors?.match">
                    Confirmation Email does not match the email address
                </span>
            </span>
          </div>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="phone"> Phone</label>
        <div class="col-md-8">
          <input class="form-control" id="phone" type="tel" placeholder="Phone" formControlName="phone" [ngClass]="{'is-invalid' : (userForm.get('phone').touched || userForm.get('phone').dirty) && !userForm.get('phone').valid }"
          />
          <span class="invalid-feedback">
                <span *ngIf="userForm.get('phone').errors?.required">
                    Please enter your Phone address
                </span>
          <span *ngIf="userForm.get('phone').errors?.tel">
                    Please enter a valid Phone address
                </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="age"> Age</label>
        <div class="col-md-8">
          <input class="form-control" id="age" type="number" placeholder="Age" formControlName="age" [ngClass]="{'is-invalid' : (userForm.get('age').touched || userForm.get('age').dirty) && !userForm.get('age').valid }"
          />
          <span class="invalid-feedback">
                <span *ngIf="userForm.get('age').errors?.required">
                    Please enter your Age
                </span>
          <span *ngIf="userForm.get('age').errors?.minimumValue">
                    Age should be grater than 18
                </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="password"> Password</label>
        <div class="col-md-8">
          <input class="form-control" id="password" type="password" placeholder="Enteer Password" formControlName="password" [ngClass]="{'is-invalid' : (userForm.get('password').touched || userForm.get('password').dirty) && !userForm.get('password').valid }"
          />
          <span class="invalid-feedback">
                <span *ngIf="userForm.get('password').errors?.required">
                    Please enter Password
                </span>
          <span *ngIf="userForm.get('password').errors?.minlength">
                    Password should be of minimum 8 length
                </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <div class="offset-md-2 col col-md-1">
          <button class="btn btn-primary mr-3" type="submit" style="width:100px" title="userForm.valid ? 'Submit your information' : 'Disabled untill required information is filled'"
            [disabled]="!userForm.valid"> Sign Up          
              </button>
          <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="
          />
        </div>
        <span style="width: 27px; display: inline-block"></span>
        <div>
          <p style="float: left">already registered?</p>
          <a style="float: left" [routerLink]="['/login']">Login</a>
        </div>
      </div>

    </form>
  </div>
</div>
